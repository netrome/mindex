{% extends "base.html" %}

{% block title %}Git - {{ app_name }}{% endblock %}

{% block content %}
<div class="nav">
    <a href="/">Documents</a>
    <a href="/new">New</a>
    <a href="/search">Search</a>
    {% if git_enabled %}
    <a href="/git">Git</a>
    {% endif %}
    <a href="/push/subscribe">Push</a>
    <button type="button" class="theme-toggle" data-theme-toggle aria-pressed="false">
        Theme
    </button>
</div>

<h1>Git</h1>

{% if !error.is_empty() %}
<div class="notice">{{ error }}</div>
{% endif %}
{% if !notice.is_empty() %}
<div class="notice">{{ notice }}</div>
{% endif %}

<p>{{ status }}</p>

<form method="post" action="/git/commit">
    <label for="message">Commit message</label>
    <textarea id="message" name="message" rows="4" required>{{ message }}</textarea>
    <button type="submit">Commit changes</button>
</form>

<pre class="git-diff">{{ diff }}</pre>
{% endblock %}
