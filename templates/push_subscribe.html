{% extends "base.html" %}

{% block title %}Push Subscription - {{ app_name }}{% endblock %}

{% block content %}
<div class="nav">
    <a href="/">Home</a>
    <a href="/new">New</a>
    <a href="/upload">Upload</a>
    <a href="/search">Search</a>
    {% if git_enabled %}
    <a href="/git">Git</a>
    {% endif %}
    <a href="/push/subscribe">Push</a>
    <button type="button" class="theme-toggle" data-theme-toggle aria-pressed="false">
        Theme
    </button>
</div>

<h1>Push subscription</h1>
<p>Generate a <code>/subscription</code> block for this device.</p>

<div id="status" role="status"></div>

<label for="username">Username</label>
<input id="username" type="text" autocomplete="username" />

<button id="subscribe-button" type="button">Enable notifications</button>

<h2>Subscription block</h2>
<textarea id="subscription-block" readonly></textarea>

<button id="copy-button" type="button">Copy block</button>

<h2>Test notification</h2>
<p>Sends a one-off push using the current subscription.</p>

<label for="test-message">Message</label>
<input id="test-message" type="text" placeholder="Test notification from Mindex" />
<button id="test-button" type="button">Send test</button>
{% endblock %}
